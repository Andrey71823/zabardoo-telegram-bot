# BazaarGuru Revamp — дорожная карта изменений

## 1. Цель
Создать новую версию Telegram-бота BazaarGuru, полностью соответствующую брифу: агрегатор выгод, понятный, честный, мультиязычный и готовый к передаче инвестору или покупателю.

## 2. Что изменено
| Блок | Было | Стало | Где смотреть |
| --- | --- | --- | --- |
| Код бота | Монолит на 30k строк, дублирование логики | Модульная структура: `scripts/bazaarguru-wow-bot.js` + `scripts/bot/*` | `clean-project/scripts` |
| Поиск | Нет подсказок, мало товаров, отсутствует время проверки | Инструкции с иконками, 10 карточек с ценой, промокодом, датой проверки | `processSearch` в `bazaarguru-wow-bot.js` |
| Локализация | Только русский, строки разбросаны | Полные RU/EN/Hinglish словари, единый движок i18n | `bot/i18n.js` |
| Меню | Длинные портянки, дубли при смене языка | Компактные меню, магазины 3×3, устойчивый language switch | `sendMainMenu`, `sendStores`, `sendLanguageMenu` |
| Персонализация | Отсутствует | Избранные категории, бюджет, уведомления + примеры | `sendPersonal*` методы |
| Документация | Устаревшие презентации | Переписаны SAFE_* документы + этот журнал | `clean-project/презентация клиенту`, `REVAMP_CHANGELOG.md` |
| Позиционирование | Пользователь не понимал источник товара | Дисклеймер «агрегатор выгод» во всех ключевых сообщениях, FAQ в /help | Переводы в `bot/i18n.js` |

## 3. Выполненные шаги
1. Полный аудит текущего состояния (код, UX, документация).
2. Проектирование новой структуры и словарей переводов.
3. Переписывание основного скрипта бота с учётом требуемого UX.
4. Добавление персонализации, уведомлений и честных fallback-сообщений.
5. Обновление документации для инвесторов и покупателей.
6. Создание этого журнала изменений для дальнейшего сопровождения.

## 4. Осталось сделать перед коммерческим запуском
- Подключить реальные партнёрские API (Flipkart/Amazon/Myntra и др.) вместо sample data.
- Вынести стейт и аналитику в БД (PostgreSQL/Redis) при масштабе >5k DAU.
- Настроить cron/webhook для регулярного обновления скидок.
- Подготовить шаблон отчётов для партнёров (Google Looker Studio / Excel).

## 5. Как расширять дальше
- Добавить новые языки: достаточно расширить словарь `TEXTS`.
- Расширить категории или магазины: редактировать `bot/catalog.js`.
- Подключить дополнительные уведомления (cashback, out-of-stock) через соответствующие методы.
- Автоматизировать QA: добавить автотесты на команды `/start`, смену языка, персональные настройки.

## 6. Контакты и версия
- Версия ревампа: `2025-09-24`
- Ответственный: Codex (GPT-5 в Codex CLI)
- Контакты: partner@bazaar.guru, Telegram @bazaarGuru_team
