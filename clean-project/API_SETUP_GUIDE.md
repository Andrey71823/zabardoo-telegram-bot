# API Setup Guide ‚Äî –ø–æ–¥–∫–ª—é—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫ BazaarGuru Bot

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç ‚Äî –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—Ç –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –±–æ—Ç –∏–∑ –¥–µ–º–æ-—Ä–µ–∂–∏–º–∞ –≤ –±–æ–µ–≤–æ–π. –ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: –≥–¥–µ –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤, –∫–∞–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞–∂–∞—Ç—å –∏ –∫–∞–∫ –≤–∫–ª—é—á–∏—Ç—å –≥–æ–ª–æ—Å/—Ñ–æ—Ç–æ-–ø–æ–∏—Å–∫.

## 1. –ß—Ç–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º
- –ê–∫–∫–∞—É–Ω—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –±–æ—Ç–∞ (Telegram —Ç–æ–∫–µ–Ω —É–∂–µ –≤ `.env`).
- –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã –º–∞–≥–∞–∑–∏–Ω–æ–≤ (Flipkart, Amazon, Myntra, Ajio, Croma, Nykaa).
- –û–±–ª–∞—á–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Google Cloud, Azure, AWS –∏–ª–∏ –Ø–Ω–¥–µ–∫—Å).

## 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–æ–≤

### 2.1 Flipkart Affiliate API
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [affiliate.flipkart.com](https://affiliate.flipkart.com/), –Ω–∞–∂–º–∏—Ç–µ `Join Now`, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É.
2. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –º–µ–Ω—é **Tools ‚Üí Affiliate API**.
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É `Generate Token`. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `Affiliate ID` –∏ `Token`.
4. –î–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ `.env`:
   ```env
   FLIPKART_AFFILIATE_ID=–≤–∞—à_ID
   FLIPKART_AFFILIATE_TOKEN=–≤–∞—à_token
   ```
5. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `scripts/services/products/flipkart.js`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/3.0/product/` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ `sample-products.json`.
6. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —ç—Ç–æ—Ç –∞–¥–∞–ø—Ç–µ—Ä –≤ `loadProducts()` (—Ñ–∞–π–ª `scripts/bot/catalog.js`).

### 2.2 Amazon Product Advertising API (PA-API)
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –≤ [Amazon Associates](https://affiliate-program.amazon.in/).
2. –ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `Tools ‚Üí Product Advertising API` –∏ –Ω–∞–∂–º–∏—Ç–µ `Add credentials`.
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `Access key`, `Secret key`, Associate Tag.
4. –î–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ `.env`:
   ```env
   AMAZON_ACCESS_KEY=...
   AMAZON_SECRET_KEY=...
   AMAZON_PARTNER_TAG=...
   ```
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SDK –∏–ª–∏ –∑–∞–ø—Ä–æ—Å `https://webservices.amazon.in/paapi5/getitems`. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `PartnerTag`, `PartnerType=Associates`, `ItemIds`.
6. –°–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –æ—Ç–≤–µ—Ç –≤ –æ–±—ä–µ–∫—Ç —Ç–æ–≤–∞—Ä–∞ –∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç–µ —Å –º–∞—Å—Å–∏–≤–æ–º –¥—Ä—É–≥–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤.

### 2.3 Myntra
1. –ü–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ [partner.myntra.com](https://partner.myntra.com/).
2. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–æ–π–¥–∏—Ç–µ –≤ –∫–∞–±–∏–Ω–µ—Ç ‚Üí —Ä–∞–∑–¥–µ–ª `API Details` ‚Üí –∫–Ω–æ–ø–∫–∞ `Download Feed` –∏–ª–∏ `Generate Key`.
3. –ï—Å–ª–∏ —ç—Ç–æ CSV/JSON ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä `scripts/services/products/myntra.js`, –∫–æ—Ç–æ—Ä—ã–π –ø–∞—Ä—Å–∏—Ç —Ñ–∞–π–ª –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤.
4. –î–æ–±–∞–≤—å—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä –≤ `loadProducts()`.

### 2.4 Ajio
1. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∞ [partnerships.ajio.com](https://partnerships.ajio.com/) ‚Üí –¥–æ–∂–¥–∏—Ç–µ—Å—å –ø–∏—Å—å–º–∞.
2. –í –ø–∏—Å—å–º–µ –±—É–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ `Affiliate Console`. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ `API Keys` –∏ –Ω–∞–∂–º–∏—Ç–µ `Generate`.
3. –î–æ–±–∞–≤—å—Ç–µ `clientId` –∏ `clientSecret` –≤ `.env` –∏ —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å `/api/v1/catalogue` (–ø—Ä–∏–º–µ—Ä –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Ajio).
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä –≤ `loadProducts()`.

### 2.5 Croma
1. –û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ [croma.com/affiliate-program](https://www.croma.com/affiliate-program).
2. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –≤ –ø–∞–Ω–µ–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `Dashboard ‚Üí API Access ‚Üí Generate Token`.
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ REST-—ç–Ω–¥–ø–æ–∏–Ω—Ç `/catalog/v1/products`. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization`.
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –Ω—É–∂–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –æ–±—â—É—é –≤—ã–¥–∞—á—É.

### 2.6 Nykaa
1. –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞ affiliate@nykaa.com –∏–ª–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É [nykaa.com/affiliate-program](https://www.nykaa.com/affiliate-program).
2. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –æ—Ç–∫—Ä–æ–π—Ç–µ `Settings ‚Üí API` –∏ –Ω–∞–∂–º–∏—Ç–µ `Generate Key`.
3. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–∏ –≤ `.env`, —Å–æ–∑–¥–∞–π—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä `nykaa.js`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `store='Nykaa'`, `storeSlug='nykaa'`.

### 2.7 –ü—Ä–æ–º–æ–∫–æ–¥—ã
- –ï—Å–ª–∏ –º–∞–≥–∞–∑–∏–Ω –¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫—É–ø–æ–Ω—ã, –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ `data/manual-promocodes.json`.
- –í –∫–æ–¥–µ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `pickPromocode(storeSlug, category)` –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö.

## 3. –ì–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–∏—Å–∫
### –í–∞—Ä–∏–∞–Ω—Ç: Google Speech-to-Text
1. –í [Google Cloud Console](https://console.cloud.google.com/) —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç, –≤–∫–ª—é—á–∏—Ç–µ API `Speech-to-Text`.
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç ‚Üí `Create key` ‚Üí JSON.
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SDK: `npm install @google-cloud/speech`.
4. –í `.env` –¥–æ–±–∞–≤—å—Ç–µ:
   ```env
   GOOGLE_APPLICATION_CREDENTIALS=/path/to/key.json
   SPEECH_LANGUAGE_CODE=ru-RU # –∏–ª–∏ –¥—Ä—É–≥–æ–π
   ```
5. –í `handleMessage` –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ `msg.voice`: —Å–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ `getFile`, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É, –≤—ã–∑–æ–≤–∏—Ç–µ `speechClient.recognize`, —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞–π—Ç–µ –≤ `processSearch`.
6. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (–µ—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –æ—Ç–≤–µ—á–∞–µ–º fallback).

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
- **Azure Speech** ‚Äî –ø–æ—Ä—Ç–∞–ª Azure ‚Üí `Create Speech resource` ‚Üí –∫–ª—é—á–∏ –≤ `.env` (`AZURE_SPEECH_KEY`, `AZURE_SPEECH_REGION`).
- **AWS Transcribe** ‚Äî IAM –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å + —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ Transcribe, –∏—Å–ø–æ–ª—å–∑—É–µ–º SDK AWS.
- **–Ø–Ω–¥–µ–∫—Å SpeechKit** ‚Äî —Å–æ–∑–¥–∞—ë–º API-–∫–ª—é—á, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∞—É–¥–∏–æ –Ω–∞ `stt.yandex.net`.

## 4. –ü–æ–∏—Å–∫ –ø–æ —Ñ–æ—Ç–æ
### –ü—Ä–∏–º–µ—Ä: Google Vision
1. –í–∫–ª—é—á–∏—Ç–µ `Vision API` –≤ —Ç–æ–º –∂–µ –ø—Ä–æ–µ–∫—Ç–µ Google Cloud.
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `npm install @google-cloud/vision`.
3. –í `handleMessage` –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ `msg.photo`: —Å–∫–∞—á–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–ª—É—á—à–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä), –≤—ã–∑–æ–≤–∏—Ç–µ `visionClient.labelDetection` –∏–ª–∏ `productSearch`.
4. –ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –º–µ—Ç–∫–∏ (`labels`) –≤ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (–±—Ä–µ–Ω–¥, –∫–∞—Ç–µ–≥–æ—Ä–∏—è) –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ —Å—Ç—Ä–æ–∫—É –≤ `processSearch`.
5. –ï—Å–ª–∏ —Ç–æ—á–Ω—ã–π —Ç–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ fallback ¬´–ø–æ–∫–∞ –ø–æ–∫–∞–∂—É –ø–æ—Ö–æ–∂–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã¬ª.

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
- **AWS Rekognition** ‚Äî `DetectLabels` –∏–ª–∏ `SearchProducts`.
- **Azure Computer Vision** ‚Äî `Analyze Image` —Å –æ–ø—Ü–∏–µ–π `Tags`.
- **Clarifai** ‚Äî –º–æ–¥–µ–ª—å `general-image-recognition`.

## 5. –ê–≤—Ç–æ—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –∂–∏–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `loadProducts()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã (–µ—Å—Ç—å `lastChecked` ‚â§24 —á–∞—Å–∞).
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –≤ `.env`:
   ```env
   NOTIFICATION_INTERVAL_MINUTES=30
   NOTIFICATION_MIN_GAP_MINUTES=180
   NOTIFICATION_MAX_PER_TICK=1
   ```
3. –ü—Ä–∏ –¥–µ–ø–ª–æ–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PM2/systemd –∏–ª–∏ –≤—ã–Ω–µ—Å–∏—Ç–µ `runNotificationTick` –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –≤–æ—Ä–∫–µ—Ä.
4. –ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç —Å—Å—ã–ª–∫—É –∏ –ø—Ä–æ–º–æ–∫–æ–¥.

## 6. –¢–µ—Å—Ç-–ø–ª–∞–Ω –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `/start` –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö
- –°–º–µ–Ω–∞ —è–∑—ã–∫–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–Ω–æ–ø–∫–∏ –∏ —Ç–µ–∫—Å—Ç—ã –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è
- `üîç` –ø–æ–∏—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤: ¬´OnePlus –¥–æ 50000¬ª, ¬´–∫—É—Ä—Ç–∏ Biba –¥–æ 1500¬ª, ¬´Sony TV discount¬ª
- –ö–∞—Ä—Ç–æ—á–∫–∏: –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ü–µ–Ω—É, –ø—Ä–æ–º–æ–∫–æ–¥, –¥–∞—Ç—É, —Å—Å—ã–ª–∫—É
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: –≤—ã–±–∏—Ä–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –±—é–¥–∂–µ—Ç, –≤–∫–ª—é—á–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –ø–æ–ª—É—á–∞–µ–º push
- /help ‚Üí FAQ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã

## 7. –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–º–æ—â–∏
- partner@bazaar.guru
- Telegram @bazaarGuru_team

–ì–æ—Ç–æ–≤–æ! –°–ª–µ–¥—É–π—Ç–µ —à–∞–≥–∞–º, –∏ –≤–∞—à BazaarGuru Bot –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∫–∏–¥–∫–∞—Ö.
