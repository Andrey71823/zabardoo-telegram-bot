# Трансформация проекта BazaarGuru Telegram Bot

Документ фиксирует переход от старой версии бота (ориентированной на отдельные эксперименты и разрозненные меню) к целевому продукту-агрегатору выгод, описанному в брифе. Используйте записи как «карту лечения»: что было, что должно быть, что уже сделано и что ещё предстоит.

## 1. Ключевая идея нового бота
- **Позиционирование:** мы агрегируем официальные скидки, купоны и кешбэк из Flipkart, Amazon, Myntra, Ajio, Croma, Nykaa (и других партнёров). Мы не склад и не продаём товары сами.
- **Пользовательское обещание:** «🔍 Найдём всё, что нужно, через умный поиск! Напиши, скажи голосом или пришли фото — бот выдаст актуальные скидки». В каждой карточке товара — магазин, купон, условия, дата последней проверки, ссылка, преимущества.
- **Три языка (RU / EN / HI):** при переключении меняются все кнопки, команды, тексты, FAQ. Без дублирования меню.
- **Персонализация:** любимые категории, лимит бюджета, история кликов, уведомления о падении цены / кешбэке / истекающем купоне.

## 2. Старый проект vs. целевой продукт
| Область | Было | Должно быть (новый проект) |
| --- | --- | --- |
| **Позиционирование** | «Сборная солянка» ботов с исправлениями меню, без понятного оффера | Чёткий месседж: агрегатор официальных скидок, проверяйте наличие на сайте магазина |
| **Контент карточек** | Непоследовательные списки, не всегда с купонами/условиями | 10 товаров сразу: цена, старые/новые цены, купон, минимальный заказ, кешбэк, дата проверки, ссылка |
| **Категории** | Вертикальные «портянки», дублирование кнопок | Сетка 3×N, аккуратные эмодзи, кнопка «назад», тексты на трёх языках |
| **Поиск** | Сырой, без инструкций, голос/фото не объяснены | Состояние “ожидаю запрос”, гайд «напиши / скажи / пришли фото», честный фолбэк для голоса/фото |
| **Персональное меню** | Почти отсутствует | Избранные категории (toggle), бюджет (пресеты + «без лимита»), уведомления, демонстрация уведомлений |
| **FAQ / Help** | Стандартные подсказки | FAQ с ответом «Откуда товары? — официальные витрины по партнёрским API; показываем только актуальные скидки» |
| **Локализация** | Частичные заготовки, дублирование блоков | Единый словарь, switch языка без повторов, всё меняется (кнопки, тексты, подсказки) |
| **Документация** | Разрозненные отчёты об исправлении меню | Чёткий пакет для инвесторов/покупателей: что поменяно, как подключить реальные данные/промокоды, три шага запуска |

## 3. План обновлений (дорожная карта)

1. **Локализация и общий контент**  
   - Сформировать единый словарь TEXTS (RU/EN/HI) для меню, сообщений, инструкций, FAQ.
   - Добавить функции форматирования (валюта, даты, проценты) и напоминания «мы агрегатор, не склад».

2. **Данные и карточки товаров**  
   - Подготовить 10 демонстрационных товаров с полями: магазин, бренд, цена, старая цена, % скидки, купон, условия, кешбэк, дата проверки, ссылка, преимущества.  
   - Переработать вывод карточек (TOP-10, поиск, категории, магазины).

3. **Поиск и взаимодействие**  
   - Состояние «ожидание поиска» с классным текстом-инструктажем и эмодзи.  
   - Парсинг запроса: ключевые слова + бюджет; вывод статистики (время, лучшая цена, % скидки, кешбэк, магазины).  
   - Фоллбэки для голоса/фото: честное сообщение, пока только текст.

4. **Навигация и меню**  
   - Главное меню: «Скидки дня», «ТОП‑10», «Категории», «Умный поиск», «Персонально», «Магазины», «Язык», «FAQ».  
   - Категории и магазины: сетки 3×N, красивые подписи, кнопка «назад».

5. **Персонализация**  
   - Избранные категории (toggle + эмодзи), лимит бюджета (пресеты), уведомления (price drop / cashback / coupon).  
   - После включения уведомления — пример сообщения, чтобы пользователь понимал формат.  
   - В summary показывать любимые категории, бюджет и активные уведомления.

6. **Документация и handover**  
   - Переписать SAFE_PROJECT_OVERVIEW.md, SAFE_BUSINESS_OVERVIEW.md, UNIQUE_FEATURES_ANALYSIS.md под новый продукт.  
   - Собрать гайды (API_SETUP_GUIDE, PROMOCODES_GUIDE, шаги подключения реальных данных) в одну актуальную папку.  
   - Чётко описать «3 шага запуска», список интеграций, требования к окружению (env, ключи API, партнёрские сети).

7. **Проверка**  
   - Статический анализ (
ode --check scripts/bazaarguru-wow-bot.js).  
   - Ручные сценарии: старт, смена языка, поиск (с разными запросами), категории, персональные настройки, FAQ.  
   - Проверка отсутствия дублирований меню после смены языка.

## 4. Статус на 18.09.2025
- ❗ Реальные изменения в коде ещё не внедрены — сейчас в стадии подготовки (сбор требований, план, формирование словаря UX/контента).  
- ✅ Создан данный документ, который фиксирует стратегию трансформации и служит базовым ресурсом для командного онбординга.  
- Следующий шаг: начать с блока «Локализация и общий контент», затем последовательно пройти пункты плана.

## 5. Дополнительно полезные ссылки
- clean-project/scripts/bazaarguru-wow-bot.js — облегчённая площадка для внедрения новой логики.
- clean-project/data/sample-products.json — туда будут положены подготовленные демо-товары.
- clean-project/data/manual-promocodes.json — актуальные промокоды для демонстрации.
- SAFE_* и UNIQUE_FEATURES_ANALYSIS.md — документы, подлежащие обновлению.

---
**Обновляйте файл по мере прогресса:** отмечайте завершённые шаги, фиксируйте решения по архитектуре, UX и API, чтобы любой участник видел картину «до и после» и понимал, что осталось сделать.
