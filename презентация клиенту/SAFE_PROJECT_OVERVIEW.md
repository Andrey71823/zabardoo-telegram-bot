# BazaarGuru Telegram Bot — обновлённый проект

## 1. Продукт
- Telegram-бот-агрегатор официальных скидок и промокодов из Flipkart, Amazon, Myntra, Ajio, Croma и Nykaa.
- Отображает 10 самых выгодных товаров по запросу с ценой, промокодом, условиями и датой последней проверки.
- Полная мультиязычность (RU/EN/Hinglish) для команд, кнопок, подсказок и уведомлений.
- Прозрачное позиционирование: «мы не склад и не маркетплейс, мы показываем выгоды» — повторяется в приветствии, категориях и карточках.

## 2. Проблема и решение
| Было в предыдущей версии | Что сделали сейчас |
| --- | --- |
| Разрозненные тексты, нет единого позиционирования | Единый tone of voice, единый дисклеймер «мы агрегатор выгод» во всех основных сценариях |
| Сырые сообщения поиска, без подсказок и по 0 товаров | Умный поиск с текстом, голосом, фото, подсказками и гарантированными 10 товарами |
| Непонятный выбор языка, дублирующиеся экраны | Стабильный переключатель языков, моментальная перерисовка кнопок и текстов |
| Карточки без даты, магазина и условий | Карточка = заголовок + цена + скидка + магазин + промокод + условия + ⏰ проверено |
| Нет персонализации | Избранные категории, лимит бюджета, сценарии уведомлений, история кликов |
| Документация устарела | Полностью переписаны гайды для покупателей и инвесторов, добавлен журнал изменений |

## 3. Клиентский путь (лучший сценарий)
1. Пользователь жмёт `/start` и получает чёткое объяснение: агрегатор скидок, не магазин.
2. Выбирает язык → всё UI-поле меняется мгновенно.
3. Нажимает «🔍 Поиск» → видит инструкцию с иконками (текст, голос, фото) и нажимает пример.
4. Получает подборку из 10 карточек с точными ценами, промокодами, датой проверки и кнопкой перехода.
5. Добавляет любимые категории/бюджет → получает персональные предложения и пробные уведомления.
6. В /help читает FAQ с ответом «Откуда товары? — Из официальных витрин по партнёрским API».

## 4. Ключевые внедрённые фичи
- Полноценная i18n-схема: все тексты вынесены в словарь, поддержка мгновенного переключения языков.
- Унифицированный сценарий поиска с подсказками, fallback-сообщениями для голоса/фото и подсчётом выгоды.
- Формат карточек «магазин + промокод + условия + дата проверки» с уникальными иконками по категориям.
- Меню магазинов 3×3, подчёркивающее партнёров и ссылку на официальные витрины.
- Персональный кабинет: избранные категории, бюджетные фильтры, включение уведомлений (price drop / cashback / coupon).
- Автоматическая генерация FAQ и единый footer-пояснение об агрегаторе.

## 5. Архитектура
- `clean-project/scripts/bazaarguru-wow-bot.js` — новый управляющий класс, разделённый на модули i18n, каталог, форматирование.
- Данные по товарам (`data/sample-products.json`) и промокодам доступны из сервиса, легко заменить на реальные API.
- Стейт пользователей в памяти (Map) с персональными настройками и метриками.
- Логика кнопок, ответов и уведомлений вынесена в отдельные методы для простого расширения.

## 6. Как запустить покупателю/инвестору (3 шага)
1. **Создать бота в BotFather** и вставить токен в `.env` (`TELEGRAM_BOT_TOKEN`).
2. **Подключить партнёрские API** (Flipkart/Amazon и т. д.) или загрузить CSV товаров в `data/sample-products.json`.
3. **Запустить `npm install` → `npm start`**, проверить языки и обновить FAQ своими контактами.

## 7. Контроль качества
- Каждая карточка содержит дату и время последней проверки — сразу видно актуальность.
- На голос/фото-поиск честный fallback: пользователь всегда получает понятное сообщение.
- В /help добавлен FAQ и контакт: `partner@bazaar.guru`.
- При изменении языка бот не дублирует меню, state очищается.

## 8. Дорожная карта (вариант)
| Этап | Задачи | KPI |
| --- | --- | --- |
| 1. Альфа | Подключение реальных API, проверка 1000+ товаров | 95% карточек с датой <2ч |
| 2. Бета | Подписки на уведомления, экспорт аналитики | +20% повторных поисков |
| 3. Запуск | Маркетинг, партнёрские CPA-схемы | 5+ брендов, ROI > 150% |

## 9. Контакты
- Email: partner@bazaar.guru
- Telegram: @bazaarGuru_team
- Демо: по запросу, доступны презентации и скрипты подключения партнёрских API.
